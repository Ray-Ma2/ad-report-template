# 広告レポートテンプレート - 作成指示書

## 概要

本ドキュメントは、Claude Codeで広告レポートテンプレートを実装する際の詳細な作成指示書です。

---

## Phase 1: プロジェクト基盤構築

### Step 1.1: ディレクトリ構造の作成

```bash
mkdir -p template/css template/js template/components
mkdir -p sample-client/2026-01 sample-client/2026-02
```

### Step 1.2: 共通CSSの作成 (`template/css/style.css`)

#### デザインシステム（CSS変数）

```css
:root {
  /* カラーパレット - 青みベース */
  --primary-50: #eff6ff;
  --primary-100: #dbeafe;
  --primary-200: #bfdbfe;
  --primary-300: #93c5fd;
  --primary-400: #60a5fa;
  --primary-500: #3b82f6;
  --primary-600: #2563eb;
  --primary-700: #1d4ed8;
  --primary-800: #1e40af;
  --primary-900: #1e3a8a;

  /* ニュートラル */
  --gray-50: #f9fafb;
  --gray-100: #f3f4f6;
  --gray-200: #e5e7eb;
  --gray-300: #d1d5db;
  --gray-400: #9ca3af;
  --gray-500: #6b7280;
  --gray-600: #4b5563;
  --gray-700: #374151;
  --gray-800: #1f2937;
  --gray-900: #111827;

  /* セマンティック */
  --success: #10b981;
  --warning: #f59e0b;
  --danger: #ef4444;
  --info: #3b82f6;

  /* タイポグラフィ */
  --font-family: 'Inter', 'Noto Sans JP', sans-serif;
  --font-size-xs: 0.75rem;
  --font-size-sm: 0.875rem;
  --font-size-base: 1rem;
  --font-size-lg: 1.125rem;
  --font-size-xl: 1.25rem;
  --font-size-2xl: 1.5rem;
  --font-size-3xl: 1.875rem;

  /* スペーシング */
  --spacing-1: 0.25rem;
  --spacing-2: 0.5rem;
  --spacing-3: 0.75rem;
  --spacing-4: 1rem;
  --spacing-6: 1.5rem;
  --spacing-8: 2rem;

  /* ボーダー */
  --radius-sm: 0.25rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.75rem;

  /* シャドウ */
  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.1);
  --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);
}
```

#### 必須コンポーネント

1. **ヘッダー**: クライアント名、レポート期間、ロゴエリア
2. **ナビゲーション**: パンくずリスト、期間切り替え
3. **カード**: KPI表示用
4. **テーブル**: 詳細データ表示用
5. **グラフエリア**: Chart.js用コンテナ
6. **比較表示**: 前期比の上昇↑/下降↓表示

---

## Phase 2: HTMLテンプレート作成

### Step 2.1: 月次サマリーページ (`sample-client/index.html`)

#### 構成
```
┌─────────────────────────────────────────────┐
│ ヘッダー: クライアント名 + ロゴ             │
├─────────────────────────────────────────────┤
│ サマリーカード x 4                          │
│ ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐            │
│ │Cost │ │Impr │ │Click│ │ CV  │            │
│ └─────┘ └─────┘ └─────┘ └─────┘            │
├─────────────────────────────────────────────┤
│ 月次推移グラフ（棒グラフ + 折れ線）         │
├─────────────────────────────────────────────┤
│ 媒体別サマリーテーブル                      │
│ ┌─────────────────────────────────────────┐│
│ │ 媒体 │ Cost │ Impr │ Click │ CV │ CPA  ││
│ │ Google │ ... │ ... │ ... │ ... │ ... ││
│ │ Meta   │ ... │ ... │ ... │ ... │ ... ││
│ └─────────────────────────────────────────┘│
├─────────────────────────────────────────────┤
│ 月別一覧（リンク）                          │
│ [2026年1月] [2026年2月] ...                │
└─────────────────────────────────────────────┘
```

### Step 2.2: 月別詳細ページ (`sample-client/2026-01/index.html`)

#### 構成
```
┌─────────────────────────────────────────────┐
│ パンくず: サマリー > 2026年1月              │
├─────────────────────────────────────────────┤
│ 月間KPIサマリーカード（前月比付き）         │
├─────────────────────────────────────────────┤
│ 媒体別タブ                                  │
│ [全体] [Google] [Meta] [Yahoo] [LINE]       │
├─────────────────────────────────────────────┤
│ 選択媒体の週次推移グラフ                    │
├─────────────────────────────────────────────┤
│ キャンペーン別詳細テーブル                  │
├─────────────────────────────────────────────┤
│ 週別リンク                                  │
│ [Week1] [Week2] [Week3] [Week4]             │
├─────────────────────────────────────────────┤
│ [印刷] ボタン                               │
└─────────────────────────────────────────────┘
```

### Step 2.3: 週別詳細ページ (`sample-client/2026-01/week1.html`)

#### 構成
```
┌─────────────────────────────────────────────┐
│ パンくず: サマリー > 2026年1月 > Week1      │
├─────────────────────────────────────────────┤
│ 週間KPIサマリーカード（前週比付き）         │
├─────────────────────────────────────────────┤
│ 日別推移グラフ                              │
├─────────────────────────────────────────────┤
│ 日別詳細テーブル（全媒体）                  │
├─────────────────────────────────────────────┤
│ 媒体別・キャンペーン別パフォーマンス        │
├─────────────────────────────────────────────┤
│ [前の週] [次の週] ナビゲーション            │
│ [印刷] ボタン                               │
└─────────────────────────────────────────────┘
```

---

## Phase 3: JavaScriptロジック

### Step 3.1: データ構造 (`sample-client/data.json`)

```json
{
  "client": {
    "name": "サンプルクライアント",
    "id": "sample-client"
  },
  "months": {
    "2026-01": {
      "summary": {
        "cost": 500000,
        "impressions": 1500000,
        "clicks": 15000,
        "conversions": 50
      },
      "platforms": {
        "google": {
          "cost": 200000,
          "impressions": 800000,
          "clicks": 8000,
          "conversions": 25,
          "campaigns": [...]
        },
        "meta": {...},
        "yahoo": {...},
        "line": {...}
      },
      "weeks": {
        "week1": {
          "dates": "2026-01-01 ~ 2026-01-07",
          "data": {...}
        }
      }
    }
  }
}
```

### Step 3.2: メインロジック (`template/js/main.js`)

```javascript
// 実装すべき機能
// 1. データ読み込み・パース
// 2. KPIカード生成
// 3. テーブル生成
// 4. 前期比計算・色分け
// 5. ナビゲーション制御
// 6. 印刷機能
```

### Step 3.3: グラフ描画 (`template/js/charts.js`)

```javascript
// 実装すべきグラフ
// 1. 月次推移（棒グラフ: Cost, 折れ線: CV）
// 2. 媒体別比較（ドーナツチャート）
// 3. 日別推移（エリアチャート）
```

---

## Phase 4: 印刷対応

### Step 4.1: 印刷用CSS (`template/css/print.css`)

```css
@media print {
  /* ナビゲーション非表示 */
  nav, .no-print { display: none; }
  
  /* ページブレイク制御 */
  .page-break-before { page-break-before: always; }
  
  /* A4最適化 */
  body { font-size: 10pt; }
  
  /* グラフのサイズ調整 */
  .chart-container { max-width: 100%; }
}
```

### Step 4.2: 印刷ボタン実装

```javascript
function printReport() {
  window.print();
}
```

---

## Phase 5: サンプルデータ作成

### サンプルデータ要件

- 2ヶ月分のデータ（2026年1月、2026年2月）
- 各月4週分のデータ
- 4媒体（Google, Meta, Yahoo, LINE）
- 各媒体2-3キャンペーン
- リアリティのある数値（CPA 3,000〜10,000円程度）

---

## 実装優先順位

| 順位 | 項目 | 重要度 |
|------|------|--------|
| 1 | CSSデザインシステム | 高 |
| 2 | 月次サマリーページ | 高 |
| 3 | 月別詳細ページ | 高 |
| 4 | 週別詳細ページ | 中 |
| 5 | Chart.js連携 | 中 |
| 6 | 印刷機能 | 中 |
| 7 | サンプルデータ | 中 |

---

## チェックリスト

### 完了条件

- [ ] レスポンシブデザインの確認（PC/タブレット/スマホ）
- [ ] 印刷プレビューの確認
- [ ] 全リンクの動作確認
- [ ] データ表示の正確性確認
- [ ] パフォーマンス確認（読み込み速度）
- [ ] ブラウザ互換性確認（Chrome, Safari, Firefox, Edge）

---

## 備考

- 新しいクライアントを追加する場合は`sample-client`フォルダをコピーして使用
- データ更新は`data.json`を編集するか、HTMLに直接記述
- 将来的にはCSV読み込み機能やスプレッドシート連携も検討
